<Application x:Class="Game_Launcher.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:Game_Launcher"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <!-- Light Theme (Default) -->
                <ResourceDictionary Source="Themes/Light.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <!-- ============================= -->
            <!-- Windows 11 Icon Button -->
            <!-- ============================= -->
            <Style x:Key="Win11IconButton" TargetType="Button">
                <Setter Property="Width" Value="100"/>
                <Setter Property="Height" Value="100"/>
                <Setter Property="Margin" Value="8"/>
                <Setter Property="Background" Value="{DynamicResource PrimaryBackground}"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Cursor" Value="Hand"/>

                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="BorderElement"
                                    Background="{TemplateBinding Background}"
                                    CornerRadius="8">

                                <Border.Effect>
                                    <DropShadowEffect x:Name="ShadowElement"
                                                      Color="{Binding Source={StaticResource ShadowColor}, Path=Color}"
                                                      ShadowDepth="2"
                                                      BlurRadius="8"
                                                      Opacity="0.15"/>
                                </Border.Effect>

                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="CommonStates">

                                        <VisualState x:Name="Normal"/>

                                        <VisualState x:Name="MouseOver">
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="ShadowElement"
                                                    Storyboard.TargetProperty="ShadowDepth"
                                                    To="4"
                                                    Duration="0:0:0.15"/>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="ShadowElement"
                                                    Storyboard.TargetProperty="BlurRadius"
                                                    To="12"
                                                    Duration="0:0:0.15"/>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="ShadowElement"
                                                    Storyboard.TargetProperty="Opacity"
                                                    To="0.25"
                                                    Duration="0:0:0.15"/>
                                            </Storyboard>
                                        </VisualState>

                                        <VisualState x:Name="Pressed">
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="ShadowElement"
                                                    Storyboard.TargetProperty="ShadowDepth"
                                                    To="1"
                                                    Duration="0:0:0.05"/>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="ShadowElement"
                                                    Storyboard.TargetProperty="BlurRadius"
                                                    To="4"
                                                    Duration="0:0:0.05"/>
                                            </Storyboard>
                                        </VisualState>

                                        <VisualState x:Name="Disabled">
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="BorderElement"
                                                    Storyboard.TargetProperty="Opacity"
                                                    To="0.5"
                                                    Duration="0"/>
                                            </Storyboard>
                                        </VisualState>

                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>

                                <ContentPresenter
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <!-- Small Size -->
            <Style x:Key="Win11IconButtonSmall" TargetType="Button" BasedOn="{StaticResource Win11IconButton}">
                <Setter Property="Width" Value="70"/>
                <Setter Property="Height" Value="70"/>
                <Setter Property="Margin" Value="6"/>
            </Style>

            <!-- Medium Size -->
            <Style x:Key="Win11IconButtonMedium" TargetType="Button" BasedOn="{StaticResource Win11IconButton}">
                <Setter Property="Width" Value="100"/>
                <Setter Property="Height" Value="100"/>
                <Setter Property="Margin" Value="8"/>
            </Style>

            <!-- Large Size -->
            <Style x:Key="Win11IconButtonLarge" TargetType="Button" BasedOn="{StaticResource Win11IconButton}">
                <Setter Property="Width" Value="130"/>
                <Setter Property="Height" Value="130"/>
                <Setter Property="Margin" Value="10"/>
            </Style>
            
            <!-- ============================= -->
            <!-- Modern Primary Button -->
            <!-- ============================= -->
            <Style x:Key="ModernButton" TargetType="Button">
                <Setter Property="Background" Value="{DynamicResource AccentColor}"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="FontFamily" Value="Segoe UI"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Padding" Value="20,10"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Cursor" Value="Hand"/>

                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid ClipToBounds="True">
                                <Border x:Name="BorderElement"
                                        Background="{TemplateBinding Background}"
                                        CornerRadius="8"
                                        Padding="{TemplateBinding Padding}">

                                    <Border.Effect>
                                        <DropShadowEffect x:Name="ShadowElement"
                                                          Color="{Binding Source={StaticResource ShadowColor}, Path=Color}"
                                                          ShadowDepth="2"
                                                          BlurRadius="8"
                                                          Opacity="0.2"/>
                                    </Border.Effect>

                                    <ContentPresenter
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"/>
                                </Border>
                            </Grid>

                            <ControlTemplate.Triggers>
                                <!-- Hover Effect - Color Change -->
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="BorderElement" Property="Background" Value="{DynamicResource AccentHover}"/>
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="ShadowElement"
                                                    Storyboard.TargetProperty="ShadowDepth"
                                                    To="4"
                                                    Duration="0:0:0.2"/>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="ShadowElement"
                                                    Storyboard.TargetProperty="BlurRadius"
                                                    To="12"
                                                    Duration="0:0:0.2"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="ShadowElement"
                                                    Storyboard.TargetProperty="ShadowDepth"
                                                    To="2"
                                                    Duration="0:0:0.2"/>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="ShadowElement"
                                                    Storyboard.TargetProperty="BlurRadius"
                                                    To="8"
                                                    Duration="0:0:0.2"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>

                                <!-- Disabled Effect -->
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="BorderElement" Property="Opacity" Value="0.5"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ============================= -->
            <!-- Modern Secondary Button -->
            <!-- ============================= -->
            <Style x:Key="ModernButtonSecondary" TargetType="Button">
                <Setter Property="Background" Value="{DynamicResource PrimaryBackground}"/>
                <Setter Property="Foreground" Value="{DynamicResource PrimaryText}"/>
                <Setter Property="FontFamily" Value="Segoe UI"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Padding" Value="20,10"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
                <Setter Property="Cursor" Value="Hand"/>

                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid ClipToBounds="True">
                                <Border x:Name="BorderElement"
                                        Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="8"
                                        Padding="{TemplateBinding Padding}">

                                    <Border.Effect>
                                        <DropShadowEffect x:Name="ShadowElement"
                                                          Color="{Binding Source={StaticResource ShadowColor}, Path=Color}"
                                                          ShadowDepth="2"
                                                          BlurRadius="8"
                                                          Opacity="0.1"/>
                                    </Border.Effect>

                                    <ContentPresenter
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"/>
                                </Border>
                            </Grid>

                            <ControlTemplate.Triggers>
                                <!-- Hover Effect -->
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="BorderElement" Property="Background" Value="{DynamicResource HoverBackground}"/>
                                </Trigger>

                                <!-- Disabled Effect -->
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="BorderElement" Property="Opacity" Value="0.5"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ============================= -->
            <!-- Icon Helpers -->
            <!-- ============================= -->
            <Style x:Key="IconContent" TargetType="StackPanel">
                <Setter Property="Orientation" Value="Vertical"/>
                <Setter Property="HorizontalAlignment" Value="Center"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
            </Style>

            <Style x:Key="IconImage" TargetType="Image">
                <Setter Property="Width" Value="48"/>
                <Setter Property="Height" Value="48"/>
                <Setter Property="Stretch" Value="Uniform"/>
                <Setter Property="RenderOptions.BitmapScalingMode" Value="HighQuality"/>
            </Style>
            <!-- Small Size -->
            <Style x:Key="IconImageSmall" TargetType="Image" BasedOn="{StaticResource IconImage}">
                <Setter Property="Width" Value="32"/>
                <Setter Property="Height" Value="32"/>
            </Style>

            <!-- Medium Size -->
            <Style x:Key="IconImageMedium" TargetType="Image" BasedOn="{StaticResource IconImage}">
                <Setter Property="Width" Value="48"/>
                <Setter Property="Height" Value="48"/>
            </Style>

            <!-- Large Size -->
            <Style x:Key="IconImageLarge" TargetType="Image" BasedOn="{StaticResource IconImage}">
                <Setter Property="Width" Value="64"/>
                <Setter Property="Height" Value="64"/>
            </Style>

            <Style x:Key="IconText" TargetType="TextBlock">
                <Setter Property="Margin" Value="0,8,0,0"/>
                <Setter Property="FontSize" Value="11"/>
                <Setter Property="FontFamily" Value="Segoe UI"/>
                <Setter Property="TextAlignment" Value="Center"/>
                <Setter Property="TextWrapping" Value="Wrap"/>
                <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
                <Setter Property="Foreground" Value="{DynamicResource PrimaryText}"/>
                <Setter Property="MaxWidth" Value="90"/>
            </Style>
            <!-- Small Size -->
            <Style x:Key="IconTextSmall" TargetType="TextBlock" BasedOn="{StaticResource IconText}">
                <Setter Property="FontSize" Value="9"/>
                <Setter Property="Margin" Value="0,6,0,0"/>
                <Setter Property="MaxWidth" Value="60"/>
            </Style>

            <!-- Medium Size -->
            <Style x:Key="IconTextMedium" TargetType="TextBlock" BasedOn="{StaticResource IconText}">
                <Setter Property="FontSize" Value="11"/>
                <Setter Property="Margin" Value="0,8,0,0"/>
                <Setter Property="MaxWidth" Value="90"/>
            </Style>

            <!-- Large Size -->
            <Style x:Key="IconTextLarge" TargetType="TextBlock" BasedOn="{StaticResource IconText}">
                <Setter Property="FontSize" Value="13"/>
                <Setter Property="Margin" Value="0,10,0,0"/>
                <Setter Property="MaxWidth" Value="120"/>
            </Style>

        </ResourceDictionary>
    </Application.Resources>
</Application>
